extends ../layout

block content
  script.
    function editar() {
      var x = document.getElementById("mostrar")
      x.style.display === "block" ? x.style.display = "none" : x.style.display = "block"
      var y = document.getElementById("esconder")
      y.style.display === "none" ? y.style.display = "block" : y.style.display = "none"
    }
  .w3-card-4
    if infouser != null
      header.w3-container.w3-khaki
        h3 #{infouser.name}
      div(class="w3-container w3-sand")
        p Username: #{infouser.username}
        p Email: #{infouser.email}
        p Curso: #{infouser.curso}
        p Data de Registo: #{infouser.dateRegister.toLocaleString('pt-PT')}
        p Data de Ultimo Logout: #{infouser.dateLast.toLocaleString('pt-PT')}

    else
      div(class="w3-container")
        p Erro: User not found...
    if checksame
      div(class="w3-container w3-sand")
        a.w3-btn.w3-round-xlarge.w3-pale-red(href="/auth/google") Link conta Google 
        p
        a.w3-btn.w3-round-xlarge.w3-blue(href="/auth/facebook") Link conta Facebook
        p
        input(class="w3-btn w3-khaki w3-round-xlarge" type="button" value=`Edit Info` id="esconder" onclick="editar()")
      div(class="w3-container w3-khaki" id="mostrar" hidden)
        form(method='POST' action=`/users/update/${infouser._id}`)
          div
            label Novo name
            input(name="name" type="text" value=infouser.name)
          div
            label Novo Username
            input(name="username" type="text" value=infouser.username)
          div
            label Novo E-mail
            input(name="email" type="text" value=infouser.email)
          div
            label Novo Curso
            input(name="curso" type="text" value=infouser.curso)

          div
            label Nova Password
            input(name="password" type="password" value=infouser.password)
          div  
            input(class="w3-btn" type='submit' value='Edit' style="background-color:  #008CBA")
          input(class="w3-btn" type="reset" value=`Cancel` style="background-color:  #916663" onclick="editar()")
        form(method='POST' action=`/users/delete/${infouser._id}`)
          input(class="w3-btn" type='submit' value='Delete' style="background-color:  #FF0000")

    div(class="w3-container w3-sand")
      p
        a(href='/') Back to homepage.
      p
        a(href='/users') Back to user list.
    footer(class="w3-container w3-khaki")
      address Gerado por Collegify :: 2020